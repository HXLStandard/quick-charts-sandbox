<!DOCTYPE html>
<html>
  <head>
    <title>HDX Quick Charts Sandbox</title>
    <link rel="stylesheet" href="style.css"/>
    <meta charset="utf-8"/>
  </head>
  <body>

    <header>
      <h1>HDX Quick Charts Sandbox</h1>

      <p>
        Use this sandbox to experiment with writing your own bites
        for HDX Quick Charts. (Recommend opening a JavaScript console to
        see error messages from Quick Charts; you may need to disable ad
        blockers.)
      </p>
    </header>

    <main>

      <section id="config">
        <form>
          <label>
            <span>Source URL for HXL-tagged data [<a
            href="http://hxlstandard.org">?</a>]</span>
            <input id="url" name="url" type="url" value="https://data.humdata.org/dataset/mozambique-cyclone-kenneth-3w-4w"/>
          </label>
          <label>
            <span>JSON bite [<a href="https://humanitarian.atlassian.net/wiki/display/HDX/Quick+Charts+JSON+formats">?</a>]</span>
            <textarea id="bite" name="bite" type="json">{
  "title": "Countries of origin",
  "type":"key figure",
  "ingredient": {
    "aggregateColumn": null,
    "valueColumn": "#country+origin",
    "aggregateFunction": "distinct-count"
  },
  "unit": "countries",
  "numberFormat": "us"
}</textarea>
          </label>
          <div id="bite-editor"></div>
          <button type="submit">Update</button>
        </form>
      </section>

      <section id="preview">
        <iframe id="chart" src=""></iframe>
      </section>

    </main>

    <footer id="embed">
      <p><b>Embed URL:</b> <a id="embed-url"></a></p>
    </footer>
    
    <script type="text/javascript" src="lib/ace/ace.js"></script>
    <script type="text/javascript" src="script.js"></script>

  </body>
</html>
